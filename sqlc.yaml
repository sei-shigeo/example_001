version: "2"
sql:
  - engine: postgresql
    queries: "internal/db/queries/"
    schema: "internal/db/migrations/"
    gen:
      go:
        package: "db"
        out: "internal/db"
        sql_package: "pgx/v5"
        emit_json_tags: true
        emit_prepared_queries: false # パフォーマンス重視ならtrue
        emit_interface: true # 追加：インターフェースを生成
        emit_exact_table_names: false # 追加：テーブル名を正確に生成
        emit_empty_slices: true # 追加：空のスライスを生成
        emit_enum_valid_method: true # 追加：enumのバリデーション
        emit_exported_queries: true # 追加：クエリをエクスポート
        emit_result_struct_pointers: true # 追加：ポインタ型の結果構造体
        emit_params_struct_pointers: true # 追加：パラメータ構造体もポインタ型
        emit_methods_with_db_argument: false # 追加：DB引数なしのメソッド
        # emit_pointer_embedding: true # 追加：ポインタ埋め込み
